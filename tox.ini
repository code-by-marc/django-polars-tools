[tox]
env_list =
    py{310,311,312,313,314}-django{42,52}
    lint
    typecheck
    format
skip_missing_interpreters = true

[testenv]
description = Run tests with pytest
deps =
    pytest>=7.0
    pytest-cov>=4.0
    django42: django~=4.2.0
    django52: django~=5.2.0
    polars>=0.20.0
commands =
    pytest {posargs:tests} --cov=django_polars_tools --cov-report=term --cov-report=xml

[testenv:lint]
description = Run ruff linting
deps = ruff>=0.8.0
commands = ruff check .

[testenv:typecheck]
description = Run mypy type checking
deps =
    mypy>=1.0
    django-stubs>=4.2
    django>=4.2
    polars>=0.20.0
commands = mypy src/

[testenv:format]
description = Check code formatting with ruff
deps = ruff>=0.8.0
commands = ruff format --check .
